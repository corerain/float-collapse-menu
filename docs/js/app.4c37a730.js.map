{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/arrow-right.png","webpack:///./src/FloatCollapseMenu.vue?233b","webpack:///./src/assets/map-pos.svg","webpack:///./example/App.vue?3fdd","webpack:///./example/App.vue?efee","webpack:///./src/FloatCollapseMenu.vue?bd26","webpack:///./src/util/index.js","webpack:///src/FloatCollapseMenu.vue","webpack:///./src/FloatCollapseMenu.vue?7249","webpack:///./src/FloatCollapseMenu.vue?7839","webpack:///example/App.vue","webpack:///./example/App.vue?7d58","webpack:///./example/App.vue?215b","webpack:///./example/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","list","props","model","callback","$$v","modelValue","expression","staticRenderFns","style","maxWidth","on","$event","stopPropagation","focus","_m","_v","_s","directives","rawName","class","visible","_l","child","index","popoverList","width","popoverItemWidth","top","left","height","item","setNodeHoveBg","hoverFullId","mouseenter","mouseleave","handleSelect","label","children","_e","addHandle","dom","type","fn","document","addEventListener","attachEvent","oldDomFun","removeHandle","removeEventListener","detachEvent","Array","default","String","Number","minWidth","borderWidth","scrollEl","prop","event","fullId","symbol","viewWidth","viewHeight","margin","lineHeight","posStr","percent","hasInitWidth","popoverEl","placement","created","combineData","mounted","documentElement","clientWidth","clientHeight","body","append","appendChild","blur","el","scrollSetPos","methods","forEach","parent","id","fullName","updatePopoverList","node","parentIndex","setNodePos","target","cur","includes","arr","nodeId","console","log","setRootPos","firstNode","space","boxLeft","boxBottom","contentHeight","setNodeSizePos","boxTop","boxRight","pos","leftShow","rightShow","bottomShow","topShow","childPos","setShowNameSlice","$el","$emit","fontWidth","dispose","parentNode","removeChild","beforeDestroy","component","components","FloatCollapseMenu","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.4c37a730.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"e35a\",\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAQFJREFUSEvdlUsOwjAMRMeFLfQA7T5cg2MhBP1IcChuEoldewHomg5KP1IXfNyFJUS2SfwytscRGC8xjg8VgGR3TkQ490G/ARhfTTICwDlKVAp8fT8RbDdpfJgLeQsguRCRx7Vutg/yAmCJSHKXrIqwB6DVKPkEkDGAr5oMYN6lKpLMJatSq+RrikIHBZCvbjkgWQ9h4ZI41yhRAfoOldZXzRFgMSgZ0/Wx8F8BIdjggyjUxFe3ApDjoKR0SZyNKl95RAWYQHol9X0H4twFFJxdut6/g/wGwDRFQ3C7Ipu16bRoJkYzHxXTnjYZdq9Mo50/07sqH/zPjzb3P+4nifF6ArE/5hnpMme/AAAAAElFTkSuQmCC\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatCollapseMenu.vue?vue&type=style&index=0&id=022da00e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatCollapseMenu.vue?vue&type=style&index=0&id=022da00e&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/map-pos.da99b170.svg\";","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"test-demo-page\"},[_c('div',{staticClass:\"test-demo-page-content\"},[_c('float-collapse-menu',{attrs:{\"list\":_vm.list,\"scroll-el\":\".test-demo-page\",\"props\":_vm.props},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"float-menu-comp bsizing\",style:({\n    maxWidth: (_vm.maxWidth + \"px\"),\n    //  minWidth: `${minWidth}px`\n  }),on:{\"click\":function($event){$event.stopPropagation();return _vm.focus($event)}}},[_c('div',{staticClass:\"float-menu-content flex-c bsizing\"},[_vm._m(0),_c('span',{staticClass:\"float-menu-text overflow_oneline\"},[_vm._v(\" \"+_vm._s(_vm.name)+\" \")]),_c('span',{staticClass:\"float-menu-arrow-icon\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],class:[\n      'cr-popover cr-float-menu-popover',\n      _vm.visible ? 'cr-popover-show' : 'cr-popover-hide'\n    ]},_vm._l((_vm.popoverList),function(child,index){return _c('ul',{key:index,class:[\n        'cr-popover-item',\n        index === _vm.popoverList.length - 1 ? 'cr-popover-item-last' : ''\n      ],style:({\n        width: (_vm.popoverItemWidth + \"px\"),\n        top: ((child.top) + \"px\"),\n        left: ((child.left) + \"px\"),\n        height: ((child.height) + \"px\")\n      })},_vm._l((child.data),function(item){return _c('li',{key:item[_vm.props.value],class:[\n          'flex-v-c',\n          _vm.value === item[_vm.props.value] ? 'active' : '',\n          _vm.setNodeHoveBg(_vm.hoverFullId, item[_vm.props.value] + '') ? 'hover' : ''\n        ],on:{\"mouseenter\":function($event){return _vm.mouseenter($event, item, index)},\"mouseleave\":_vm.mouseleave,\"click\":function($event){$event.stopPropagation();return _vm.handleSelect(item)}}},[_c('div',{class:[\n            'select-tips-icon',\n            _vm.value === item[_vm.props.value] ? 'active' : ''\n          ]}),_c('div',{staticClass:\"select-text overflow_oneline\"},[_vm._v(\" \"+_vm._s(item[_vm.props.label])+\" \")]),(item.children && item.children.length)?_c('div',{staticClass:\"children-tips-icon flex-c\"},[_c('img',{staticClass:\"arrow-right-detail\",attrs:{\"src\":require(\"./assets/arrow-right.png\"),\"alt\":\"\"}})]):_vm._e()])}),0)}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"float-menu-icon flex-c\"},[_c('img',{attrs:{\"src\":require(\"./assets/map-pos.svg\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","/*\n * @Descripttion: \n * @version: \n * @Author: Jianyong Wang\n * @Date: 2020-06-04 15:19:36\n * @LastEditors: Jianyong Wang\n * @LastEditTime: 2022-05-12 16:12:24\n */\nconst merge = function(def, opt) {\n  for(let key in opt) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (opt.hasOwnProperty(key)) {\n      def[key] = opt[key]\n    }\n  }\n\n  return def\n}\n\n//  事件绑定兼容\nconst addHandle = (dom, type, fn) => {\n  if (!dom) {\n    return\n  }\n\n  if (document.addEventListener) {\n    dom.addEventListener(type, fn, false)\n  } else if (document.attachEvent) {\n    dom.attachEvent('on' + type, fn)\n  } else {\n    let oldDomFun = dom['on' + type]\n    dom['on' + type] = function() {\n      oldDomFun()\n      fn && fn()\n    }\n  }\n}\n\n//  事件解绑\nconst removeHandle = (dom, type, fn) => {\n  if (!dom) {\n    return\n  }\n  \n  if (document.removeEventListener) {\n    dom.removeEventListener(type, fn)\n  } else if (document.detachEvent) {\n    dom.detachEvent('on' + type, fn)\n  } else {\n    dom['on' + type] = null\n  }\n}\n\n\nexport {\n  merge,\n  addHandle,\n  removeHandle\n}","<template>\n  <div\n    class=\"float-menu-comp bsizing\"\n    :style=\"{\n      maxWidth: `${maxWidth}px`,\n      //  minWidth: `${minWidth}px`\n    }\"\n    @click.stop=\"focus\">\n    <div class=\"float-menu-content flex-c bsizing\">\n      <span class=\"float-menu-icon flex-c\">\n        <img src=\"./assets/map-pos.svg\" alt=\"\" />\n      </span>\n      <span class=\"float-menu-text overflow_oneline\">\n        {{ name }}\n      </span>\n      <span class=\"float-menu-arrow-icon\"></span>\n    </div>\n\n    <div\n      v-show=\"visible\"\n      :class=\"[\n        'cr-popover cr-float-menu-popover',\n        visible ? 'cr-popover-show' : 'cr-popover-hide'\n      ]\">\n      <ul\n        :class=\"[\n          'cr-popover-item',\n          index === popoverList.length - 1 ? 'cr-popover-item-last' : ''\n        ]\"\n        v-for=\"(child, index) in popoverList\"\n        :key=\"index\"\n        :style=\"{\n          width: `${popoverItemWidth}px`,\n          top: `${child.top}px`,\n          left: `${child.left}px`,\n          height: `${child.height}px`\n        }\">\n        <li\n          v-for=\"item in child.data\"\n          :key=\"item[props.value]\"\n          :class=\"[\n            'flex-v-c',\n            value === item[props.value] ? 'active' : '',\n            setNodeHoveBg(hoverFullId, item[props.value] + '') ? 'hover' : ''\n          ]\"\n          @mouseenter=\"mouseenter($event, item, index)\"\n          @mouseleave=\"mouseleave\"\n          @click.stop=\"handleSelect(item)\">\n          <div\n            :class=\"[\n              'select-tips-icon',\n              value === item[props.value] ? 'active' : ''\n            ]\">\n          </div>\n          <div class=\"select-text overflow_oneline\">\n            {{ item[props.label] }}\n          </div>\n          <div\n            v-if=\"item.children && item.children.length\"\n            class=\"children-tips-icon flex-c\">\n            <img class=\"arrow-right-detail\" src=\"./assets/arrow-right.png\" alt=\"\" />\n          </div> \n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { addHandle, removeHandle } from '@/util'\n\nexport default {\n  props: {\n    // 原始数据列表\n    list: {\n      type: Array,\n      default: () => []\n    },\n    // listItem 每条数据对应的字段\n    props: {\n      type: Object,\n      default: () => ({\n        label: 'label',\n        value: 'value',\n        children: 'children'\n      })\n    },\n    // 双向绑定数据值\n    value: [String, Number],\n    // 选中显示框最大长度\n    maxWidth: {\n      type: Number,\n      default: 304\n    },\n    // 选中显示框最小长度\n    minWidth: {\n      type: Number,\n      default: 180\n    },\n    // 下拉初始化方向排布\n    // placement: {\n    //   type: String,\n    //   default: 'bottom-right',\n    // },\n    // 悬浮菜单item宽度\n    popoverItemWidth: {\n      type: Number,\n      default: 224\n    },\n    // 边框宽度\n    borderWidth: {\n      type: Number,\n      default: 1.5\n    },\n    // 页面滚动元素\n    scrollEl: {\n      type: String,\n      default: 'body'\n    }\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  data() {\n    return {\n      popoverList: [],  // 悬浮菜单集合\n      visible: false,\n      name: '',\n      fullId: '',\n      symbol: ' / ',\n      viewWidth: 0,\n      viewHeight: 0,\n      margin: 8,\n      lineHeight: 40,\n      posStr: '',\n      hoverFullId: '',\n      percent: 0.8, // 悬浮菜单可以滚动的最大百分比高度\n      hasInitWidth: false,\n      popoverEl: null,\n      placement: 'bottom-right'\n    }\n  },\n  created() {\n    this.combineData(this.list) \n    this.posStr = this.placement\n  },\n  mounted() {\n    const documentElement = document.documentElement\n    this.viewWidth = documentElement.clientWidth\n    this.viewHeight = documentElement.clientHeight\n\n    const popoverEl = this.$el.querySelector('.cr-popover')\n    const body = document.querySelector('body')\n    this.popoverEl = popoverEl\n\n    if (body.append) {\n      body.append(popoverEl);\n    } else {\n      body.appendChild(popoverEl);\n    }\n\n    addHandle(document, 'click', this.blur)\n    addHandle(window, 'resize', this.blur)\n\n    // 监听滚动 关闭悬浮菜单\n    const el = document.querySelector(this.scrollEl)\n    addHandle(el, 'scroll', this.scrollSetPos)\n  },\n  methods: {\n    // 初始化组合数据  设置每级的父元素名称、id\n    combineData(list, parent) {\n      const props = this.props\n      const symbol = this.symbol\n\n      list.forEach(item => {\n        const name = item[props.label]\n        const id = item[props.value]\n        const children = item[props.children]\n\n        if (parent) {\n          item.fullId = parent.fullId + symbol + id\n          item.fullName = parent.fullName + symbol + name\n        } else {\n          item.fullId = id + ''\n          item.fullName = name\n        }\n\n        if (children && children.length) {\n          this.combineData(children, item)\n        }\n\n        if (this.value === id) {\n          this.setShowNameSlice(item.fullName)\n          this.fullId = item.fullId.includes(symbol) ? item.fullId.split(symbol) : [item.fullId]\n        }\n      })\n    },\n    // 更新下拉框列表数据\n    updatePopoverList(data) {\n      const item = {\n        top: 0,\n        left: 0,\n        height: 0,\n        data\n      }\n\n      this.popoverList.push(item)\n    },\n    mouseenter(e, node, parentIndex) {\n      this.hoverFullId = node.fullId\n      const target = e.target\n      this.popoverList = this.popoverList.slice(0, parentIndex + 1)\n\n      const children = node.children\n      if (!children || !children.length) {\n        return\n      }\n\n      this.updatePopoverList(children)\n      const cur = this.popoverList[this.popoverList.length - 1]\n      const parent = this.popoverList[this.popoverList.length - 2]\n      this.setNodePos(target, cur, parent)\n    },\n    setNodeHoveBg(hoverFullId, nodeId) {\n      const symbol = this.symbol\n\n      if (hoverFullId.includes(symbol)) {\n        const arr = hoverFullId.split(symbol)\n\n        return arr.includes(nodeId + '')\n      }\n\n      return [hoverFullId].includes(nodeId + '')\n    },\n    mouseleave() {\n      // this.popoverList = []\n    },\n    focus() {\n      console.log('float menu focus')\n      this.visible = !this.visible\n      this.popoverList = []\n      \n      if (this.list.length) {\n        this.updatePopoverList(this.list)\n        const firstNode = this.popoverList[0]\n        this.setRootPos(firstNode)\n      }\n    },\n    blur() {\n      this.visible = false\n      this.popoverList = []\n      this.posStr = this.placement\n      this.hoverFullId = ''\n    },\n    // 设置根节点元素位置\n    setRootPos(node) {\n      const popoverItemWidth = this.popoverItemWidth\n      const viewWidth = this.viewWidth\n      const viewHeight = this.viewHeight\n      let top = 0\n      let left = 0\n      let height = 0\n      const el = this.$el\n      const box = el.getBoundingClientRect()\n      const boxLeft = box.left\n      const boxRight = box.right\n      const boxBottom = box.bottom\n      const boxTop = box.top\n      const margin = this.margin\n      const percent = this.percent\n      const borderPadding = (this.borderWidth + margin) * 2\n\n      // 设置元素相关位置\n      const setNodeSizePos = (node, top, left, height) => {\n        node.top = top\n        node.left = left\n        node.height = height\n      }\n\n      // 左侧展示 计算右侧剩余空间\n      let space = viewWidth - box.left\n\n      // 右侧空间充足\n      if (space >= popoverItemWidth) {\n        left = boxLeft\n      }\n      // 右侧空间不足 右侧对齐\n      else {\n        left = boxRight - popoverItemWidth\n      }\n\n\n      // // 右侧展示 计算左侧剩余空间\n      // space = boxRight\n\n      // // 左侧空间充足\n      // if (space >= popoverItemWidth) {\n      //   left = boxRight - popoverItemWidth\n      // } else {\n      //   left = boxLeft\n      // }\n\n      // 底部展示 计算底部空间是否充足\n      space = viewHeight - boxBottom\n      const nodeHeight = node.data.length * this.lineHeight\n      const contentHeight = nodeHeight + borderPadding\n\n      // 底部显示（底部空间充足）\n      if (space >= contentHeight + margin) {\n        top = boxBottom + margin\n        height = contentHeight\n        setNodeSizePos(node, top, left, height)\n        \n        return\n      }\n\n      // 底部显示（底部空间不足） 底部空间 >= 上面空间\n      if (space < contentHeight + margin && space >= boxTop) {\n        top = boxBottom + margin\n        height = (space - margin) * percent\n        setNodeSizePos(node, top, left, height)\n        \n        return\n      }\n\n      // 上面显示（上面空间充足）\n      space = boxTop - margin\n      if (space >= contentHeight) {\n        top = space - contentHeight\n        height = contentHeight\n        setNodeSizePos(node, top, left, height)\n        \n        return\n      }\n\n      // 上面显示（上面空间空间不足）上面空间 >= 下面空间\n      if (space < contentHeight && boxTop >= viewHeight - boxBottom) {\n        top = space * (1 - percent)\n        height = space * percent\n        setNodeSizePos(node, top, left, height)\n      }\n    },\n    // 设置节点位置\n    setNodePos(el, node, parent) {\n      const popoverItemWidth = this.popoverItemWidth\n      const viewWidth = this.viewWidth\n      const viewHeight = this.viewHeight\n      let top = 0\n      let left = 0\n      let height = 0\n      const box = el.getBoundingClientRect()\n      const boxLeft = box.left\n      const boxRight = box.right\n      const boxBottom = box.bottom\n      const boxTop = box.top\n      const margin = this.margin\n      const symbol = '-'\n      const percent = this.percent\n      const borderPadding = (this.borderWidth + margin) * 2\n      const nodeHeight = node.data.length * this.lineHeight\n      const contentHeight = nodeHeight + borderPadding\n\n      // 左侧显示\n      const leftShow = () => {\n        const space = boxLeft\n        const arr = this.posStr.split(symbol)\n        let pos = 'left'\n\n        if (space >= popoverItemWidth) {\n          left = boxLeft - popoverItemWidth\n        } else {\n          left = boxRight\n          pos = 'right'\n        }\n\n         this.posStr = `${arr[0]}${symbol}${pos}`\n      }\n\n      // 右侧显示\n      const rightShow = () => {\n        const space = viewWidth - boxRight\n        const arr = this.posStr.split(symbol)\n        let pos = 'right'\n\n        // 右侧空间充足 右侧显示\n        if (space >= popoverItemWidth) {\n          left = boxRight\n        }\n        // 右侧空间不足 左侧显示\n        else {\n          left = boxLeft - popoverItemWidth\n          pos = 'left'\n        }\n\n        this.posStr = `${arr[0]}${symbol}${pos}`\n      }\n\n      // 底部显示\n      const bottomShow = () => {\n        // 底部展示 计算底部空间\n        const space = viewHeight - boxTop\n        const arr = this.posStr.split(symbol)\n        let pos = 'bottom'\n\n        // 底部空间充足 底部展示\n        if (space >= contentHeight) {\n          top = boxTop\n          height = contentHeight\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n\n        // 底部空间不足  底部空间大于上部空间 底部展示并且滚动\n        if (space < contentHeight && space >= boxBottom) {\n          top = boxTop\n          height = space * percent\n          this.posStr = `${pos}${symbol}${arr[1]}`\n          \n          return\n        }\n\n        // 上面空间充足 上面显示\n        if (boxBottom >= contentHeight) {\n          top = boxBottom - contentHeight\n          pos = 'top'\n          height = contentHeight\n          this.posStr = `${pos}${symbol}${arr[1]}`\n          \n          return\n        }\n\n        // 上面空间不足 上面空间大于下面空间 上面显示\n        if (boxBottom < contentHeight && boxBottom > space) {\n          top = boxBottom * (1 - percent)\n          pos = 'top'\n          height = boxBottom * percent\n          this.posStr = `${pos}${symbol}${arr[1]}`\n        }\n      }\n\n      // 上面显示\n      const topShow = () => {\n        // 底部展示 计算底部空间\n        const space = viewHeight - boxTop\n        const arr = this.posStr.split(symbol)\n        let pos = 'bottom'\n\n        // 上面空间充足 上面显示\n        if (boxBottom >= contentHeight) {\n          top = boxBottom - contentHeight\n          pos = 'top'\n          height = contentHeight\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n\n        // 上面空间不足 上面空间大于下面空间 上面显示\n        if (boxBottom < contentHeight && boxBottom > space) {\n          top = boxBottom * (1 - percent)\n          pos = 'top'\n          height = boxBottom * percent\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n\n        // 底部空间充足 底部展示\n        if (space >= contentHeight) {\n          top = boxTop\n          height = contentHeight\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n\n        // 底部空间不足  底部空间大于上部空间 底部展示并且滚动\n        if (space < contentHeight && space >= boxBottom) {\n          top = boxTop\n          height = space * percent\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n      }\n\n      const setPos = (type) => {\n        switch(type) {\n          case 'left':\n            leftShow()\n            break\n\n          case 'right':\n            rightShow()\n            break\n\n          case 'bottom':\n            bottomShow()\n            break\n\n          case 'top':\n            topShow()\n            break\n\n          default:\n            break\n        }\n      }\n\n      this.posStr = parent.childPos || this.placement\n      const arr = this.posStr.split(symbol)\n\n      for (const key of arr) {\n        setPos(key)\n      }\n\n      parent.childPos = this.posStr\n      node.childPos = this.posStr\n\n      node.top = top\n      node.left = left\n      node.height = height\n    },\n    // 选择节点\n    handleSelect(node) {\n      this.setShowNameSlice(node.fullName)\n      this.fullId = node.fullId\n      const id = node[this.props.value]\n\n      if (!this.hasInitWidth) {\n        this.hasInitWidth = true\n        this.$el.style.width = 'auto'\n      }\n      \n      // 双向绑定-选择节点\n      // @arg 参数为当前节点 id\n      this.$emit('change', id)\n      // 选中节点\n      // @arg 参数为当前节点 node\n      this.$emit('select', node)\n      this.blur()\n    },\n    // name 截取\n    setShowNameSlice(name) {\n      const fontSize = 18\n      const total = name.length\n      const fontWidth = name.length * fontSize\n      const space = this.maxWidth - 28 - 20 - 16 - 2 - 3 * 18\n\n\n      if (fontWidth > space) {\n        const num = Math.ceil(space / fontSize)\n        this.name = `...${name.slice(total - num - 1)}`\n      } else {\n        this.name = name\n      }\n    },\n    // 页面滚动设置位置\n    scrollSetPos() {\n      if (!this.visible) {\n        return\n      }\n      \n      this.blur()\n    },\n    // 销毁\n    dispose() {\n      this.blur()\n      const popoverEl = this.popoverEl\n      popoverEl.parentNode.removeChild(popoverEl)\n      this.popoverEl = null\n      \n      removeHandle(document, 'click', this.blur)\n      removeHandle(window, 'resize', this.blur)\n      // 监听滚动 关闭悬浮菜单\n      const el = document.querySelector(this.scrollEl)\n      removeHandle(el, 'scroll', this.scrollSetPos)\n    }\n  },\n  beforeDestroy() {\n    this.dispose()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.float-menu-comp {\n  display: inline-block;\n  padding: 0 10px;\n  height: 32px;\n  background: rgba(217, 227, 242, 0.1) url('./assets/bg.png') 0 0 no-repeat;\n  background-size: cover;\n  border-left: 1px solid #d9e3f2;\n  border-right: 1px solid #d9e3f2;\n  cursor: pointer;\n}\n\n.cr-popover-hide {\n  z-index: -1;\n}\n\n\n.float-menu-icon {\n  width: 16px;\n  height: 16px;\n  color: #60759F;\n}\n\n.arrow-right-detail {\n  width: 16px;\n  height: 16px;\n}\n\nsvg, img {\n  width: 100%;\n  height: 100%;\n}\n\n.float-menu-arrow-icon {\n  width: 12px;\n  height: 12px;\n  background: url('./assets/area-arrow.png') no-repeat;\n  background-size: 12px;\n}\n\n.float-menu-content {\n  width: 100%;\n  height: 100%;\n  color: #CCDDFF;\n}\n\n.float-menu-text {\n  flex: 1;\n  margin: 0 8px;\n  font-weight: Bold;\n  font-size: 18px;\n  color: #CCDDFF;\n}\n\n.cr-float-menu-popover {\n  display: flex;\n  cursor: pointer;\n\n  .cr-popover-item {\n    overflow: auto;\n    padding: 8px;\n    background: #1D2330;\n    border: 1px solid #435270;\n    position: fixed;\n    left: 0;\n\n    &.cr-popover-item-last {\n      border-bottom: 2px solid #6699ff;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      background: #7F90B3;\n      border-radius: 5px;\n    }\n  }\n\n  li {\n    height: 40px;\n\n    &.hover {\n      background: #262E40;\n    }\n  }\n\n  .select-tips-icon {\n    width: 16px;\n    height: 16px;\n    margin-left: 8px;\n    background: url('./assets/check-def.png') 0 0 no-repeat;\n    background-size: 100% 100%;\n\n    &.active {\n      background: url('./assets/checked.png') 0 0 no-repeat;\n      background-size: 100% 100%;\n    }\n  }\n\n  .select-text {\n    margin: 0 8px;\n    color: #D9E3F2;\n    letter-spacing: 0;\n    flex: 1;\n    font-size: 14px;\n    color: #D9E3F2;\n  }\n\n  .children-tips-icon {\n    width: 12px;\n    height: 12px;\n    margin-right: 8px;\n\n    i {\n      width: 100%;\n      height: 100%;\n      color: #fff;\n    }\n  }\n}\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatCollapseMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatCollapseMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FloatCollapseMenu.vue?vue&type=template&id=022da00e&scoped=true&\"\nimport script from \"./FloatCollapseMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./FloatCollapseMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FloatCollapseMenu.vue?vue&type=style&index=0&id=022da00e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"022da00e\",\n  null\n  \n)\n\nexport default component.exports","<!--\n * @Descripttion: \n * @version: \n * @Author: Jianyong Wang\n * @Date: 2020-06-04 12:18:43\n * @LastEditors: Jianyong Wang\n * @LastEditTime: 2022-05-12 15:35:28\n--> \n<template>\n  <div id=\"app\">\n    <div class=\"test-demo-page\">\n      <div class=\"test-demo-page-content\">\n        <float-collapse-menu\n          v-model=\"modelValue\"\n          :list=\"list\"\n          scroll-el=\".test-demo-page\"\n          :props=\"props\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FloatCollapseMenu from '@/FloatCollapseMenu'\n\nexport default{\n  name: 'App',\n  components: {\n    FloatCollapseMenu\n  },\n  data() {\n    return {\n      list: [\n        {\n          \"areaLevel\": 0, \n          \"cameraId\": 7, \n          \"children\": [\n            {\n              \"areaLevel\": 1, \n              \"cameraId\": null, \n              \"children\": [\n                {\n                  \"areaLevel\": 2, \n                  \"cameraId\": null, \n                  \"children\": [\n                    {\n                      \"areaLevel\": 3, \n                      \"cameraId\": null, \n                      \"children\": [\n                        {\n                          \"areaLevel\": 4, \n                          \"cameraId\": null, \n                          \"children\": [], \n                          \"defAreaConfig\": {}, \n                          \"flowHeat\": 0, \n                          \"id\": 9, \n                          \"name\": \"333\", \n                          \"pictureUrl\": \"\", \n                          \"pid\": 8, \n                          \"sortNumber\": 0\n                        }\n                      ], \n                      \"defAreaConfig\": {}, \n                      \"flowHeat\": 0, \n                      \"id\": 8, \n                      \"name\": \"2222\", \n                      \"pictureUrl\": \"\", \n                      \"pid\": 7, \n                      \"sortNumber\": 0\n                    }\n                  ], \n                  \"defAreaConfig\": {}, \n                  \"flowHeat\": 0, \n                  \"id\": 7, \n                  \"name\": \"111\", \n                  \"pictureUrl\": \"\", \n                  \"pid\": 2, \n                  \"sortNumber\": 0\n                }\n              ], \n              \"defAreaConfig\": {}, \n              \"flowHeat\": 0, \n              \"id\": 2, \n              \"name\": \"\\u6d4e\\u5357\", \n              \"pictureUrl\": \"\", \n              \"pid\": 1, \n              \"sortNumber\": 0\n            }\n          ], \n          \"defAreaConfig\": {\n            \"h\": 0.21776590223741024, \n            \"w\": 0.24181502416636447, \n            \"x\": 0.17547024435425684, \n            \"y\": 0.10596300884199733\n          }, \n          \"flowHeat\": 0, \n          \"id\": 1, \n          \"name\": \"\\u5c71\\u4e1c\", \n          \"pictureUrl\": \"/static/uploadFiles/backgroundImages/49fa82fc-d0c6-460c-9e58-9cb704771e1f.jpg\", \n          \"pid\": 0, \n          \"sortNumber\": 4\n        }, \n        {\n          \"areaLevel\": 0, \n          \"cameraId\": 4, \n          \"children\": [], \n          \"defAreaConfig\": {\n            \"h\": 0.3051103747608158, \n            \"w\": 0.3047619047619048, \n            \"x\": 0.18857142857142856, \n            \"y\": 0.12708731973678067\n          }, \n          \"flowHeat\": 0, \n          \"id\": 4, \n          \"name\": \"\\u5317\\u4eac\", \n          \"pictureUrl\": \"/static/uploadFiles/backgroundImages/0e8ca7f7-6153-46b5-9947-e33df0da4351.jpg\", \n          \"pid\": 0, \n          \"sortNumber\": 2\n        }, \n        {\n          \"areaLevel\": 0, \n          \"cameraId\": null, \n          \"children\": [], \n          \"defAreaConfig\": {}, \n          \"flowHeat\": 0, \n          \"id\": 5, \n          \"name\": \"\\u6d4e\\u5357\", \n          \"pictureUrl\": \"\", \n          \"pid\": 0, \n          \"sortNumber\": 1\n        }, \n        {\n          \"areaLevel\": 0, \n          \"cameraId\": null, \n          \"children\": [], \n          \"defAreaConfig\": {}, \n          \"flowHeat\": 0, \n          \"id\": 6, \n          \"name\": \"\\u4e0a\\u6d77\", \n          \"pictureUrl\": \"\", \n          \"pid\": 0, \n          \"sortNumber\": 0\n        }\n      ],\n      props: {\n        label: 'name',\n        value: 'id',\n        children: 'children'\n      },\n      modelValue: 1\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import 'styles/common.scss';\n\n  #app {\n    width: 100%;\n    height: 100%;\n\n    .test-demo-page {\n      width: 100%;\n      height: 100%;\n      background: black;\n      overflow-y: auto;\n\n      .test-demo-page-content {\n        width: 100%;\n        height: 1500px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9bb0a3fa&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n * @Descripttion: \n * @version: \n * @Author: Jianyong Wang\n * @Date: 2020-06-04 12:18:43\n * @LastEditors: Jianyong Wang\n * @LastEditTime: 2022-05-12 15:22:56\n */ \nimport Vue from 'vue'\nimport App from './App.vue'\n\nimport './styles/reset.css'\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}