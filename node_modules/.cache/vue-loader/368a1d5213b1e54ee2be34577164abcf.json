{"remainingRequest":"/Users/wangjianyong/User/company/Corerain/project/cr-open-code/float-collapse-menu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangjianyong/User/company/Corerain/project/cr-open-code/float-collapse-menu/src/FloatCollapseMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjianyong/User/company/Corerain/project/cr-open-code/float-collapse-menu/src/FloatCollapseMenu.vue","mtime":1653905782721},{"path":"/Users/wangjianyong/User/company/Corerain/project/cr-open-code/float-collapse-menu/node_modules/cache-loader/dist/cjs.js","mtime":1651821459354},{"path":"/Users/wangjianyong/User/company/Corerain/project/cr-open-code/float-collapse-menu/node_modules/babel-loader/lib/index.js","mtime":1651821459313},{"path":"/Users/wangjianyong/User/company/Corerain/project/cr-open-code/float-collapse-menu/node_modules/cache-loader/dist/cjs.js","mtime":1651821459354},{"path":"/Users/wangjianyong/User/company/Corerain/project/cr-open-code/float-collapse-menu/node_modules/vue-loader/lib/index.js","mtime":1651821465097}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFkZEhhbmRsZSwgcmVtb3ZlSGFuZGxlIH0gZnJvbSAnQC91dGlsJwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICAvLyDljp/lp4vmlbDmja7liJfooagKICAgIGxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAogICAgLy8gbGlzdEl0ZW0g5q+P5p2h5pWw5o2u5a+55bqU55qE5a2X5q61CiAgICBwcm9wczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7CiAgICAgICAgbGFiZWw6ICdsYWJlbCcsCiAgICAgICAgdmFsdWU6ICd2YWx1ZScsCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicKICAgICAgfSkKICAgIH0sCiAgICAvLyDlj4zlkJHnu5HlrprmlbDmja7lgLwKICAgIHZhbHVlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgLy8g6YCJ5Lit5pi+56S65qGG5pyA5aSn6ZW/5bqmCiAgICBtYXhXaWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDMwNAogICAgfSwKICAgIC8vIOmAieS4reaYvuekuuahhuacgOWwj+mVv+W6pgogICAgbWluV2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxODAKICAgIH0sCiAgICAvLyDmgqzmta7oj5zljZVpdGVt5a695bqmCiAgICBwb3BvdmVySXRlbVdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjI0CiAgICB9LAogICAgLy8g6L655qGG5a695bqmCiAgICBib3JkZXJXaWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEuNQogICAgfSwKICAgIC8vIOmhtemdoua7muWKqOWFg+e0oAogICAgc2Nyb2xsRWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnYm9keScKICAgIH0KICB9LAogIG1vZGVsOiB7CiAgICBwcm9wOiAndmFsdWUnLAogICAgZXZlbnQ6ICdjaGFuZ2UnCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9wb3Zlckxpc3Q6IFtdLCAgLy8g5oKs5rWu6I+c5Y2V6ZuG5ZCICiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBuYW1lOiAnJywKICAgICAgZnVsbElkOiAnJywKICAgICAgc3ltYm9sOiAnIC8gJywKICAgICAgdmlld1dpZHRoOiAwLAogICAgICB2aWV3SGVpZ2h0OiAwLAogICAgICBtYXJnaW46IDgsCiAgICAgIGxpbmVIZWlnaHQ6IDQwLAogICAgICBwb3NTdHI6ICcnLAogICAgICBob3ZlckZ1bGxJZDogJycsCiAgICAgIHBlcmNlbnQ6IDAuOCwgLy8g5oKs5rWu6I+c5Y2V5Y+v5Lul5rua5Yqo55qE5pyA5aSn55m+5YiG5q+U6auY5bqmCiAgICAgIGhhc0luaXRXaWR0aDogZmFsc2UsCiAgICAgIHBvcG92ZXJFbDogbnVsbCwKICAgICAgcGxhY2VtZW50OiAnYm90dG9tLXJpZ2h0JwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY29tYmluZURhdGEodGhpcy5saXN0KSAKICAgIHRoaXMucG9zU3RyID0gdGhpcy5wbGFjZW1lbnQKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQKICAgIHRoaXMudmlld1dpZHRoID0gZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoCiAgICB0aGlzLnZpZXdIZWlnaHQgPSBkb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0CgogICAgY29uc3QgcG9wb3ZlckVsID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLmNyLXBvcG92ZXInKQogICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKQogICAgdGhpcy5wb3BvdmVyRWwgPSBwb3BvdmVyRWwKCiAgICBpZiAoYm9keS5hcHBlbmQpIHsKICAgICAgYm9keS5hcHBlbmQocG9wb3ZlckVsKTsKICAgIH0gZWxzZSB7CiAgICAgIGJvZHkuYXBwZW5kQ2hpbGQocG9wb3ZlckVsKTsKICAgIH0KCiAgICBhZGRIYW5kbGUoZG9jdW1lbnQsICdjbGljaycsIHRoaXMuYmx1cikKICAgIGFkZEhhbmRsZSh3aW5kb3csICdyZXNpemUnLCB0aGlzLmJsdXIpCgogICAgLy8g55uR5ZCs5rua5YqoIOWFs+mXreaCrOa1ruiPnOWNlQogICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2Nyb2xsRWwpCiAgICBhZGRIYW5kbGUoZWwsICdzY3JvbGwnLCB0aGlzLnNjcm9sbFNldFBvcykKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIneWni+WMlue7hOWQiOaVsOaNriAg6K6+572u5q+P57qn55qE54i25YWD57Sg5ZCN56ew44CBaWQKICAgIGNvbWJpbmVEYXRhKGxpc3QsIHBhcmVudCkgewogICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHMKICAgICAgY29uc3Qgc3ltYm9sID0gdGhpcy5zeW1ib2wKCiAgICAgIGxpc3QuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBjb25zdCBuYW1lID0gaXRlbVtwcm9wcy5sYWJlbF0KICAgICAgICBjb25zdCBpZCA9IGl0ZW1bcHJvcHMudmFsdWVdCiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBpdGVtW3Byb3BzLmNoaWxkcmVuXQoKICAgICAgICBpZiAocGFyZW50KSB7CiAgICAgICAgICBpdGVtLmZ1bGxJZCA9IHBhcmVudC5mdWxsSWQgKyBzeW1ib2wgKyBpZAogICAgICAgICAgaXRlbS5mdWxsTmFtZSA9IHBhcmVudC5mdWxsTmFtZSArIHN5bWJvbCArIG5hbWUKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaXRlbS5mdWxsSWQgPSBpZCArICcnCiAgICAgICAgICBpdGVtLmZ1bGxOYW1lID0gbmFtZQogICAgICAgIH0KCiAgICAgICAgaWYgKGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5jb21iaW5lRGF0YShjaGlsZHJlbiwgaXRlbSkKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBpZCkgewogICAgICAgICAgdGhpcy5zZXRTaG93TmFtZVNsaWNlKGl0ZW0uZnVsbE5hbWUpCiAgICAgICAgICB0aGlzLmZ1bGxJZCA9IGl0ZW0uZnVsbElkLmluY2x1ZGVzKHN5bWJvbCkgPyBpdGVtLmZ1bGxJZC5zcGxpdChzeW1ib2wpIDogW2l0ZW0uZnVsbElkXQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDmm7TmlrDkuIvmi4nmoYbliJfooajmlbDmja4KICAgIHVwZGF0ZVBvcG92ZXJMaXN0KGRhdGEpIHsKICAgICAgY29uc3QgaXRlbSA9IHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgbGVmdDogMCwKICAgICAgICBoZWlnaHQ6IDAsCiAgICAgICAgZGF0YQogICAgICB9CgogICAgICB0aGlzLnBvcG92ZXJMaXN0LnB1c2goaXRlbSkKICAgIH0sCiAgICBtb3VzZWVudGVyKGUsIG5vZGUsIHBhcmVudEluZGV4KSB7CiAgICAgIHRoaXMuaG92ZXJGdWxsSWQgPSBub2RlLmZ1bGxJZAogICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldAogICAgICB0aGlzLnBvcG92ZXJMaXN0ID0gdGhpcy5wb3BvdmVyTGlzdC5zbGljZSgwLCBwYXJlbnRJbmRleCArIDEpCgogICAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4KICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlUG9wb3Zlckxpc3QoY2hpbGRyZW4pCiAgICAgIGNvbnN0IGN1ciA9IHRoaXMucG9wb3Zlckxpc3RbdGhpcy5wb3BvdmVyTGlzdC5sZW5ndGggLSAxXQogICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBvcG92ZXJMaXN0W3RoaXMucG9wb3Zlckxpc3QubGVuZ3RoIC0gMl0KICAgICAgdGhpcy5zZXROb2RlUG9zKHRhcmdldCwgY3VyLCBwYXJlbnQpCiAgICB9LAogICAgc2V0Tm9kZUhvdmVCZyhob3ZlckZ1bGxJZCwgbm9kZUlkKSB7CiAgICAgIGNvbnN0IHN5bWJvbCA9IHRoaXMuc3ltYm9sCgogICAgICBpZiAoaG92ZXJGdWxsSWQuaW5jbHVkZXMoc3ltYm9sKSkgewogICAgICAgIGNvbnN0IGFyciA9IGhvdmVyRnVsbElkLnNwbGl0KHN5bWJvbCkKCiAgICAgICAgcmV0dXJuIGFyci5pbmNsdWRlcyhub2RlSWQgKyAnJykKICAgICAgfQoKICAgICAgcmV0dXJuIFtob3ZlckZ1bGxJZF0uaW5jbHVkZXMobm9kZUlkICsgJycpCiAgICB9LAogICAgbW91c2VsZWF2ZSgpIHsKICAgICAgLy8gdGhpcy5wb3BvdmVyTGlzdCA9IFtdCiAgICB9LAogICAgZm9jdXMoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdmbG9hdCBtZW51IGZvY3VzJykKICAgICAgdGhpcy52aXNpYmxlID0gIXRoaXMudmlzaWJsZQogICAgICB0aGlzLnBvcG92ZXJMaXN0ID0gW10KICAgICAgCiAgICAgIGlmICh0aGlzLmxpc3QubGVuZ3RoKSB7CiAgICAgICAgdGhpcy51cGRhdGVQb3BvdmVyTGlzdCh0aGlzLmxpc3QpCiAgICAgICAgY29uc3QgZmlyc3ROb2RlID0gdGhpcy5wb3BvdmVyTGlzdFswXQogICAgICAgIHRoaXMuc2V0Um9vdFBvcyhmaXJzdE5vZGUpCiAgICAgIH0KICAgIH0sCiAgICBibHVyKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLnBvcG92ZXJMaXN0ID0gW10KICAgICAgdGhpcy5wb3NTdHIgPSB0aGlzLnBsYWNlbWVudAogICAgICB0aGlzLmhvdmVyRnVsbElkID0gJycKICAgIH0sCiAgICAvLyDorr7nva7moLnoioLngrnlhYPntKDkvY3nva4KICAgIHNldFJvb3RQb3Mobm9kZSkgewogICAgICBjb25zdCBwb3BvdmVySXRlbVdpZHRoID0gdGhpcy5wb3BvdmVySXRlbVdpZHRoCiAgICAgIGNvbnN0IHZpZXdXaWR0aCA9IHRoaXMudmlld1dpZHRoCiAgICAgIGNvbnN0IHZpZXdIZWlnaHQgPSB0aGlzLnZpZXdIZWlnaHQKICAgICAgbGV0IHRvcCA9IDAKICAgICAgbGV0IGxlZnQgPSAwCiAgICAgIGxldCBoZWlnaHQgPSAwCiAgICAgIGNvbnN0IGVsID0gdGhpcy4kZWwKICAgICAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkKICAgICAgY29uc3QgYm94TGVmdCA9IGJveC5sZWZ0CiAgICAgIGNvbnN0IGJveFJpZ2h0ID0gYm94LnJpZ2h0CiAgICAgIGNvbnN0IGJveEJvdHRvbSA9IGJveC5ib3R0b20KICAgICAgY29uc3QgYm94VG9wID0gYm94LnRvcAogICAgICBjb25zdCBtYXJnaW4gPSB0aGlzLm1hcmdpbgogICAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5wZXJjZW50CiAgICAgIGNvbnN0IGJvcmRlclBhZGRpbmcgPSAodGhpcy5ib3JkZXJXaWR0aCArIG1hcmdpbikgKiAyCgogICAgICAvLyDorr7nva7lhYPntKDnm7jlhbPkvY3nva4KICAgICAgY29uc3Qgc2V0Tm9kZVNpemVQb3MgPSAobm9kZSwgdG9wLCBsZWZ0LCBoZWlnaHQpID0+IHsKICAgICAgICBub2RlLnRvcCA9IHRvcAogICAgICAgIG5vZGUubGVmdCA9IGxlZnQKICAgICAgICBub2RlLmhlaWdodCA9IGhlaWdodAogICAgICB9CgogICAgICAvLyDlt6bkvqflsZXnpLog6K6h566X5Y+z5L6n5Ymp5L2Z56m66Ze0CiAgICAgIGxldCBzcGFjZSA9IHZpZXdXaWR0aCAtIGJveC5sZWZ0CgogICAgICAvLyDlj7Pkvqfnqbrpl7TlhYXotrMKICAgICAgaWYgKHNwYWNlID49IHBvcG92ZXJJdGVtV2lkdGgpIHsKICAgICAgICBsZWZ0ID0gYm94TGVmdAogICAgICB9CiAgICAgIC8vIOWPs+S+p+epuumXtOS4jei2syDlj7Pkvqflr7npvZAKICAgICAgZWxzZSB7CiAgICAgICAgbGVmdCA9IGJveFJpZ2h0IC0gcG9wb3Zlckl0ZW1XaWR0aAogICAgICB9CgogICAgICAvLyDlupXpg6jlsZXnpLog6K6h566X5bqV6YOo56m66Ze05piv5ZCm5YWF6LazCiAgICAgIHNwYWNlID0gdmlld0hlaWdodCAtIGJveEJvdHRvbQogICAgICBjb25zdCBub2RlSGVpZ2h0ID0gbm9kZS5kYXRhLmxlbmd0aCAqIHRoaXMubGluZUhlaWdodAogICAgICBjb25zdCBjb250ZW50SGVpZ2h0ID0gbm9kZUhlaWdodCArIGJvcmRlclBhZGRpbmcKCiAgICAgIC8vIOW6lemDqOaYvuekuu+8iOW6lemDqOepuumXtOWFhei2s++8iQogICAgICBpZiAoc3BhY2UgPj0gY29udGVudEhlaWdodCArIG1hcmdpbikgewogICAgICAgIHRvcCA9IGJveEJvdHRvbSArIG1hcmdpbgogICAgICAgIGhlaWdodCA9IGNvbnRlbnRIZWlnaHQKICAgICAgICBzZXROb2RlU2l6ZVBvcyhub2RlLCB0b3AsIGxlZnQsIGhlaWdodCkKICAgICAgICAKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgLy8g5bqV6YOo5pi+56S677yI5bqV6YOo56m66Ze05LiN6Laz77yJIOW6lemDqOepuumXtCA+PSDkuIrpnaLnqbrpl7QKICAgICAgaWYgKHNwYWNlIDwgY29udGVudEhlaWdodCArIG1hcmdpbiAmJiBzcGFjZSA+PSBib3hUb3ApIHsKICAgICAgICB0b3AgPSBib3hCb3R0b20gKyBtYXJnaW4KICAgICAgICBoZWlnaHQgPSAoc3BhY2UgLSBtYXJnaW4pICogcGVyY2VudAogICAgICAgIHNldE5vZGVTaXplUG9zKG5vZGUsIHRvcCwgbGVmdCwgaGVpZ2h0KQogICAgICAgIAogICAgICAgIHJldHVybgogICAgICB9CgogICAgICAvLyDkuIrpnaLmmL7npLrvvIjkuIrpnaLnqbrpl7TlhYXotrPvvIkKICAgICAgc3BhY2UgPSBib3hUb3AgLSBtYXJnaW4KICAgICAgaWYgKHNwYWNlID49IGNvbnRlbnRIZWlnaHQpIHsKICAgICAgICB0b3AgPSBzcGFjZSAtIGNvbnRlbnRIZWlnaHQKICAgICAgICBoZWlnaHQgPSBjb250ZW50SGVpZ2h0CiAgICAgICAgc2V0Tm9kZVNpemVQb3Mobm9kZSwgdG9wLCBsZWZ0LCBoZWlnaHQpCiAgICAgICAgCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIC8vIOS4iumdouaYvuekuu+8iOS4iumdouepuumXtOepuumXtOS4jei2s++8ieS4iumdouepuumXtCA+PSDkuIvpnaLnqbrpl7QKICAgICAgaWYgKHNwYWNlIDwgY29udGVudEhlaWdodCAmJiBib3hUb3AgPj0gdmlld0hlaWdodCAtIGJveEJvdHRvbSkgewogICAgICAgIHRvcCA9IHNwYWNlICogKDEgLSBwZXJjZW50KQogICAgICAgIGhlaWdodCA9IHNwYWNlICogcGVyY2VudAogICAgICAgIHNldE5vZGVTaXplUG9zKG5vZGUsIHRvcCwgbGVmdCwgaGVpZ2h0KQogICAgICB9CiAgICB9LAogICAgLy8g6K6+572u6IqC54K55L2N572uCiAgICBzZXROb2RlUG9zKGVsLCBub2RlLCBwYXJlbnQpIHsKICAgICAgY29uc3QgcG9wb3Zlckl0ZW1XaWR0aCA9IHRoaXMucG9wb3Zlckl0ZW1XaWR0aAogICAgICBjb25zdCB2aWV3V2lkdGggPSB0aGlzLnZpZXdXaWR0aAogICAgICBjb25zdCB2aWV3SGVpZ2h0ID0gdGhpcy52aWV3SGVpZ2h0CiAgICAgIGxldCB0b3AgPSAwCiAgICAgIGxldCBsZWZ0ID0gMAogICAgICBsZXQgaGVpZ2h0ID0gMAogICAgICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICBjb25zdCBib3hMZWZ0ID0gYm94LmxlZnQKICAgICAgY29uc3QgYm94UmlnaHQgPSBib3gucmlnaHQKICAgICAgY29uc3QgYm94Qm90dG9tID0gYm94LmJvdHRvbQogICAgICBjb25zdCBib3hUb3AgPSBib3gudG9wCiAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMubWFyZ2luCiAgICAgIGNvbnN0IHN5bWJvbCA9ICctJwogICAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5wZXJjZW50CiAgICAgIGNvbnN0IGJvcmRlclBhZGRpbmcgPSAodGhpcy5ib3JkZXJXaWR0aCArIG1hcmdpbikgKiAyCiAgICAgIGNvbnN0IG5vZGVIZWlnaHQgPSBub2RlLmRhdGEubGVuZ3RoICogdGhpcy5saW5lSGVpZ2h0CiAgICAgIGNvbnN0IGNvbnRlbnRIZWlnaHQgPSBub2RlSGVpZ2h0ICsgYm9yZGVyUGFkZGluZwoKICAgICAgLy8g5bem5L6n5pi+56S6CiAgICAgIGNvbnN0IGxlZnRTaG93ID0gKCkgPT4gewogICAgICAgIGNvbnN0IHNwYWNlID0gYm94TGVmdAogICAgICAgIGNvbnN0IGFyciA9IHRoaXMucG9zU3RyLnNwbGl0KHN5bWJvbCkKICAgICAgICBsZXQgcG9zID0gJ2xlZnQnCgogICAgICAgIGlmIChzcGFjZSA+PSBwb3BvdmVySXRlbVdpZHRoKSB7CiAgICAgICAgICBsZWZ0ID0gYm94TGVmdCAtIHBvcG92ZXJJdGVtV2lkdGgKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGVmdCA9IGJveFJpZ2h0CiAgICAgICAgICBwb3MgPSAncmlnaHQnCiAgICAgICAgfQoKICAgICAgICAgdGhpcy5wb3NTdHIgPSBgJHthcnJbMF19JHtzeW1ib2x9JHtwb3N9YAogICAgICB9CgogICAgICAvLyDlj7PkvqfmmL7npLoKICAgICAgY29uc3QgcmlnaHRTaG93ID0gKCkgPT4gewogICAgICAgIGNvbnN0IHNwYWNlID0gdmlld1dpZHRoIC0gYm94UmlnaHQKICAgICAgICBjb25zdCBhcnIgPSB0aGlzLnBvc1N0ci5zcGxpdChzeW1ib2wpCiAgICAgICAgbGV0IHBvcyA9ICdyaWdodCcKCiAgICAgICAgLy8g5Y+z5L6n56m66Ze05YWF6LazIOWPs+S+p+aYvuekugogICAgICAgIGlmIChzcGFjZSA+PSBwb3BvdmVySXRlbVdpZHRoKSB7CiAgICAgICAgICBsZWZ0ID0gYm94UmlnaHQKICAgICAgICB9CiAgICAgICAgLy8g5Y+z5L6n56m66Ze05LiN6LazIOW3puS+p+aYvuekugogICAgICAgIGVsc2UgewogICAgICAgICAgbGVmdCA9IGJveExlZnQgLSBwb3BvdmVySXRlbVdpZHRoCiAgICAgICAgICBwb3MgPSAnbGVmdCcKICAgICAgICB9CgogICAgICAgIHRoaXMucG9zU3RyID0gYCR7YXJyWzBdfSR7c3ltYm9sfSR7cG9zfWAKICAgICAgfQoKICAgICAgLy8g5bqV6YOo5pi+56S6CiAgICAgIGNvbnN0IGJvdHRvbVNob3cgPSAoKSA9PiB7CiAgICAgICAgLy8g5bqV6YOo5bGV56S6IOiuoeeul+W6lemDqOepuumXtAogICAgICAgIGNvbnN0IHNwYWNlID0gdmlld0hlaWdodCAtIGJveFRvcAogICAgICAgIGNvbnN0IGFyciA9IHRoaXMucG9zU3RyLnNwbGl0KHN5bWJvbCkKICAgICAgICBsZXQgcG9zID0gJ2JvdHRvbScKCiAgICAgICAgLy8g5bqV6YOo56m66Ze05YWF6LazIOW6lemDqOWxleekugogICAgICAgIGlmIChzcGFjZSA+PSBjb250ZW50SGVpZ2h0KSB7CiAgICAgICAgICB0b3AgPSBib3hUb3AKICAgICAgICAgIGhlaWdodCA9IGNvbnRlbnRIZWlnaHQKICAgICAgICAgIHRoaXMucG9zU3RyID0gYCR7cG9zfSR7c3ltYm9sfSR7YXJyWzFdfWAKCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIC8vIOW6lemDqOepuumXtOS4jei2syAg5bqV6YOo56m66Ze05aSn5LqO5LiK6YOo56m66Ze0IOW6lemDqOWxleekuuW5tuS4lOa7muWKqAogICAgICAgIGlmIChzcGFjZSA8IGNvbnRlbnRIZWlnaHQgJiYgc3BhY2UgPj0gYm94Qm90dG9tKSB7CiAgICAgICAgICB0b3AgPSBib3hUb3AKICAgICAgICAgIGhlaWdodCA9IHNwYWNlICogcGVyY2VudAogICAgICAgICAgdGhpcy5wb3NTdHIgPSBgJHtwb3N9JHtzeW1ib2x9JHthcnJbMV19YAogICAgICAgICAgCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIC8vIOS4iumdouepuumXtOWFhei2syDkuIrpnaLmmL7npLoKICAgICAgICBpZiAoYm94Qm90dG9tID49IGNvbnRlbnRIZWlnaHQpIHsKICAgICAgICAgIHRvcCA9IGJveEJvdHRvbSAtIGNvbnRlbnRIZWlnaHQKICAgICAgICAgIHBvcyA9ICd0b3AnCiAgICAgICAgICBoZWlnaHQgPSBjb250ZW50SGVpZ2h0CiAgICAgICAgICB0aGlzLnBvc1N0ciA9IGAke3Bvc30ke3N5bWJvbH0ke2FyclsxXX1gCiAgICAgICAgICAKICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgLy8g5LiK6Z2i56m66Ze05LiN6LazIOS4iumdouepuumXtOWkp+S6juS4i+mdouepuumXtCDkuIrpnaLmmL7npLoKICAgICAgICBpZiAoYm94Qm90dG9tIDwgY29udGVudEhlaWdodCAmJiBib3hCb3R0b20gPiBzcGFjZSkgewogICAgICAgICAgdG9wID0gYm94Qm90dG9tICogKDEgLSBwZXJjZW50KQogICAgICAgICAgcG9zID0gJ3RvcCcKICAgICAgICAgIGhlaWdodCA9IGJveEJvdHRvbSAqIHBlcmNlbnQKICAgICAgICAgIHRoaXMucG9zU3RyID0gYCR7cG9zfSR7c3ltYm9sfSR7YXJyWzFdfWAKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIOS4iumdouaYvuekugogICAgICBjb25zdCB0b3BTaG93ID0gKCkgPT4gewogICAgICAgIC8vIOW6lemDqOWxleekuiDorqHnrpflupXpg6jnqbrpl7QKICAgICAgICBjb25zdCBzcGFjZSA9IHZpZXdIZWlnaHQgLSBib3hUb3AKICAgICAgICBjb25zdCBhcnIgPSB0aGlzLnBvc1N0ci5zcGxpdChzeW1ib2wpCiAgICAgICAgbGV0IHBvcyA9ICdib3R0b20nCgogICAgICAgIC8vIOS4iumdouepuumXtOWFhei2syDkuIrpnaLmmL7npLoKICAgICAgICBpZiAoYm94Qm90dG9tID49IGNvbnRlbnRIZWlnaHQpIHsKICAgICAgICAgIHRvcCA9IGJveEJvdHRvbSAtIGNvbnRlbnRIZWlnaHQKICAgICAgICAgIHBvcyA9ICd0b3AnCiAgICAgICAgICBoZWlnaHQgPSBjb250ZW50SGVpZ2h0CiAgICAgICAgICB0aGlzLnBvc1N0ciA9IGAke3Bvc30ke3N5bWJvbH0ke2FyclsxXX1gCgogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQoKICAgICAgICAvLyDkuIrpnaLnqbrpl7TkuI3otrMg5LiK6Z2i56m66Ze05aSn5LqO5LiL6Z2i56m66Ze0IOS4iumdouaYvuekugogICAgICAgIGlmIChib3hCb3R0b20gPCBjb250ZW50SGVpZ2h0ICYmIGJveEJvdHRvbSA+IHNwYWNlKSB7CiAgICAgICAgICB0b3AgPSBib3hCb3R0b20gKiAoMSAtIHBlcmNlbnQpCiAgICAgICAgICBwb3MgPSAndG9wJwogICAgICAgICAgaGVpZ2h0ID0gYm94Qm90dG9tICogcGVyY2VudAogICAgICAgICAgdGhpcy5wb3NTdHIgPSBgJHtwb3N9JHtzeW1ib2x9JHthcnJbMV19YAoKICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgLy8g5bqV6YOo56m66Ze05YWF6LazIOW6lemDqOWxleekugogICAgICAgIGlmIChzcGFjZSA+PSBjb250ZW50SGVpZ2h0KSB7CiAgICAgICAgICB0b3AgPSBib3hUb3AKICAgICAgICAgIGhlaWdodCA9IGNvbnRlbnRIZWlnaHQKICAgICAgICAgIHRoaXMucG9zU3RyID0gYCR7cG9zfSR7c3ltYm9sfSR7YXJyWzFdfWAKCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIC8vIOW6lemDqOepuumXtOS4jei2syAg5bqV6YOo56m66Ze05aSn5LqO5LiK6YOo56m66Ze0IOW6lemDqOWxleekuuW5tuS4lOa7muWKqAogICAgICAgIGlmIChzcGFjZSA8IGNvbnRlbnRIZWlnaHQgJiYgc3BhY2UgPj0gYm94Qm90dG9tKSB7CiAgICAgICAgICB0b3AgPSBib3hUb3AKICAgICAgICAgIGhlaWdodCA9IHNwYWNlICogcGVyY2VudAogICAgICAgICAgdGhpcy5wb3NTdHIgPSBgJHtwb3N9JHtzeW1ib2x9JHthcnJbMV19YAoKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3Qgc2V0UG9zID0gKHR5cGUpID0+IHsKICAgICAgICBzd2l0Y2godHlwZSkgewogICAgICAgICAgY2FzZSAnbGVmdCc6CiAgICAgICAgICAgIGxlZnRTaG93KCkKICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgICBjYXNlICdyaWdodCc6CiAgICAgICAgICAgIHJpZ2h0U2hvdygpCiAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgY2FzZSAnYm90dG9tJzoKICAgICAgICAgICAgYm90dG9tU2hvdygpCiAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgY2FzZSAndG9wJzoKICAgICAgICAgICAgdG9wU2hvdygpCiAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMucG9zU3RyID0gcGFyZW50LmNoaWxkUG9zIHx8IHRoaXMucGxhY2VtZW50CiAgICAgIGNvbnN0IGFyciA9IHRoaXMucG9zU3RyLnNwbGl0KHN5bWJvbCkKCiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGFycikgewogICAgICAgIHNldFBvcyhrZXkpCiAgICAgIH0KCiAgICAgIHBhcmVudC5jaGlsZFBvcyA9IHRoaXMucG9zU3RyCiAgICAgIG5vZGUuY2hpbGRQb3MgPSB0aGlzLnBvc1N0cgoKICAgICAgbm9kZS50b3AgPSB0b3AKICAgICAgbm9kZS5sZWZ0ID0gbGVmdAogICAgICBub2RlLmhlaWdodCA9IGhlaWdodAogICAgfSwKICAgIC8vIOmAieaLqeiKgueCuQogICAgaGFuZGxlU2VsZWN0KG5vZGUpIHsKICAgICAgdGhpcy5zZXRTaG93TmFtZVNsaWNlKG5vZGUuZnVsbE5hbWUpCiAgICAgIHRoaXMuZnVsbElkID0gbm9kZS5mdWxsSWQKICAgICAgY29uc3QgaWQgPSBub2RlW3RoaXMucHJvcHMudmFsdWVdCgogICAgICBpZiAoIXRoaXMuaGFzSW5pdFdpZHRoKSB7CiAgICAgICAgdGhpcy5oYXNJbml0V2lkdGggPSB0cnVlCiAgICAgICAgdGhpcy4kZWwuc3R5bGUud2lkdGggPSAnYXV0bycKICAgICAgfQogICAgICAKICAgICAgLy8g5Y+M5ZCR57uR5a6aLemAieaLqeiKgueCuQogICAgICAvLyBAYXJnIOWPguaVsOS4uuW9k+WJjeiKgueCuSBpZAogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBpZCkKICAgICAgLy8g6YCJ5Lit6IqC54K5CiAgICAgIC8vIEBhcmcg5Y+C5pWw5Li65b2T5YmN6IqC54K5IG5vZGUKICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0Jywgbm9kZSkKICAgICAgdGhpcy5ibHVyKCkKICAgIH0sCiAgICAvLyBuYW1lIOaIquWPlgogICAgc2V0U2hvd05hbWVTbGljZShuYW1lKSB7CiAgICAgIGNvbnN0IGZvbnRTaXplID0gMTgKICAgICAgY29uc3QgdG90YWwgPSBuYW1lLmxlbmd0aAogICAgICBjb25zdCBmb250V2lkdGggPSBuYW1lLmxlbmd0aCAqIGZvbnRTaXplCiAgICAgIGNvbnN0IHNwYWNlID0gdGhpcy5tYXhXaWR0aCAtIDI4IC0gMjAgLSAxNiAtIDIgLSAzICogMTgKCgogICAgICBpZiAoZm9udFdpZHRoID4gc3BhY2UpIHsKICAgICAgICBjb25zdCBudW0gPSBNYXRoLmNlaWwoc3BhY2UgLyBmb250U2l6ZSkKICAgICAgICB0aGlzLm5hbWUgPSBgLi4uJHtuYW1lLnNsaWNlKHRvdGFsIC0gbnVtIC0gMSl9YAogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubmFtZSA9IG5hbWUKICAgICAgfQogICAgfSwKICAgIC8vIOmhtemdoua7muWKqOiuvue9ruS9jee9rgogICAgc2Nyb2xsU2V0UG9zKCkgewogICAgICBpZiAoIXRoaXMudmlzaWJsZSkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIAogICAgICB0aGlzLmJsdXIoKQogICAgfSwKICAgIC8vIOmUgOavgQogICAgZGlzcG9zZSgpIHsKICAgICAgdGhpcy5ibHVyKCkKICAgICAgY29uc3QgcG9wb3ZlckVsID0gdGhpcy5wb3BvdmVyRWwKICAgICAgcG9wb3ZlckVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocG9wb3ZlckVsKQogICAgICB0aGlzLnBvcG92ZXJFbCA9IG51bGwKICAgICAgCiAgICAgIHJlbW92ZUhhbmRsZShkb2N1bWVudCwgJ2NsaWNrJywgdGhpcy5ibHVyKQogICAgICByZW1vdmVIYW5kbGUod2luZG93LCAncmVzaXplJywgdGhpcy5ibHVyKQogICAgICAvLyDnm5HlkKzmu5rliqgg5YWz6Zet5oKs5rWu6I+c5Y2VCiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNjcm9sbEVsKQogICAgICByZW1vdmVIYW5kbGUoZWwsICdzY3JvbGwnLCB0aGlzLnNjcm9sbFNldFBvcykKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmRpc3Bvc2UoKQogIH0KfQo="},{"version":3,"sources":["FloatCollapseMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FloatCollapseMenu.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div\n    class=\"float-menu-comp bsizing\"\n    :style=\"{\n      maxWidth: `${maxWidth}px`\n    }\"\n    @click.stop=\"focus\">\n    <div class=\"float-menu-content flex-c bsizing\">\n      <span class=\"float-menu-icon flex-c\">\n        <img src=\"./assets/map-pos.svg\" alt=\"\" />\n      </span>\n      <span class=\"float-menu-text overflow_oneline\">\n        {{ name }}\n      </span>\n      <span class=\"float-menu-arrow-icon\"></span>\n    </div>\n\n    <div\n      v-show=\"visible\"\n      :class=\"[\n        'cr-popover cr-float-menu-popover',\n        visible ? 'cr-popover-show' : 'cr-popover-hide'\n      ]\">\n      <ul\n        :class=\"[\n          'cr-popover-item',\n          index === popoverList.length - 1 ? 'cr-popover-item-last' : ''\n        ]\"\n        v-for=\"(child, index) in popoverList\"\n        :key=\"index\"\n        :style=\"{\n          width: `${popoverItemWidth}px`,\n          top: `${child.top}px`,\n          left: `${child.left}px`,\n          height: `${child.height}px`\n        }\">\n        <li\n          v-for=\"item in child.data\"\n          :key=\"item[props.value]\"\n          :class=\"[\n            'flex-v-c',\n            value === item[props.value] ? 'active' : '',\n            setNodeHoveBg(hoverFullId, item[props.value] + '') ? 'hover' : ''\n          ]\"\n          @mouseenter=\"mouseenter($event, item, index)\"\n          @mouseleave=\"mouseleave\"\n          @click.stop=\"handleSelect(item)\">\n          <div\n            :class=\"[\n              'select-tips-icon',\n              value === item[props.value] ? 'active' : ''\n            ]\">\n          </div>\n          <div class=\"select-text overflow_oneline\">\n            {{ item[props.label] }}\n          </div>\n          <div\n            v-if=\"item.children && item.children.length\"\n            class=\"children-tips-icon flex-c\">\n            <img class=\"arrow-right-detail\" src=\"./assets/arrow-right.png\" alt=\"\" />\n          </div> \n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { addHandle, removeHandle } from '@/util'\n\nexport default {\n  props: {\n    // 原始数据列表\n    list: {\n      type: Array,\n      default: () => []\n    },\n    // listItem 每条数据对应的字段\n    props: {\n      type: Object,\n      default: () => ({\n        label: 'label',\n        value: 'value',\n        children: 'children'\n      })\n    },\n    // 双向绑定数据值\n    value: [String, Number],\n    // 选中显示框最大长度\n    maxWidth: {\n      type: Number,\n      default: 304\n    },\n    // 选中显示框最小长度\n    minWidth: {\n      type: Number,\n      default: 180\n    },\n    // 悬浮菜单item宽度\n    popoverItemWidth: {\n      type: Number,\n      default: 224\n    },\n    // 边框宽度\n    borderWidth: {\n      type: Number,\n      default: 1.5\n    },\n    // 页面滚动元素\n    scrollEl: {\n      type: String,\n      default: 'body'\n    }\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  data() {\n    return {\n      popoverList: [],  // 悬浮菜单集合\n      visible: false,\n      name: '',\n      fullId: '',\n      symbol: ' / ',\n      viewWidth: 0,\n      viewHeight: 0,\n      margin: 8,\n      lineHeight: 40,\n      posStr: '',\n      hoverFullId: '',\n      percent: 0.8, // 悬浮菜单可以滚动的最大百分比高度\n      hasInitWidth: false,\n      popoverEl: null,\n      placement: 'bottom-right'\n    }\n  },\n  created() {\n    this.combineData(this.list) \n    this.posStr = this.placement\n  },\n  mounted() {\n    const documentElement = document.documentElement\n    this.viewWidth = documentElement.clientWidth\n    this.viewHeight = documentElement.clientHeight\n\n    const popoverEl = this.$el.querySelector('.cr-popover')\n    const body = document.querySelector('body')\n    this.popoverEl = popoverEl\n\n    if (body.append) {\n      body.append(popoverEl);\n    } else {\n      body.appendChild(popoverEl);\n    }\n\n    addHandle(document, 'click', this.blur)\n    addHandle(window, 'resize', this.blur)\n\n    // 监听滚动 关闭悬浮菜单\n    const el = document.querySelector(this.scrollEl)\n    addHandle(el, 'scroll', this.scrollSetPos)\n  },\n  methods: {\n    // 初始化组合数据  设置每级的父元素名称、id\n    combineData(list, parent) {\n      const props = this.props\n      const symbol = this.symbol\n\n      list.forEach(item => {\n        const name = item[props.label]\n        const id = item[props.value]\n        const children = item[props.children]\n\n        if (parent) {\n          item.fullId = parent.fullId + symbol + id\n          item.fullName = parent.fullName + symbol + name\n        } else {\n          item.fullId = id + ''\n          item.fullName = name\n        }\n\n        if (children && children.length) {\n          this.combineData(children, item)\n        }\n\n        if (this.value === id) {\n          this.setShowNameSlice(item.fullName)\n          this.fullId = item.fullId.includes(symbol) ? item.fullId.split(symbol) : [item.fullId]\n        }\n      })\n    },\n    // 更新下拉框列表数据\n    updatePopoverList(data) {\n      const item = {\n        top: 0,\n        left: 0,\n        height: 0,\n        data\n      }\n\n      this.popoverList.push(item)\n    },\n    mouseenter(e, node, parentIndex) {\n      this.hoverFullId = node.fullId\n      const target = e.target\n      this.popoverList = this.popoverList.slice(0, parentIndex + 1)\n\n      const children = node.children\n      if (!children || !children.length) {\n        return\n      }\n\n      this.updatePopoverList(children)\n      const cur = this.popoverList[this.popoverList.length - 1]\n      const parent = this.popoverList[this.popoverList.length - 2]\n      this.setNodePos(target, cur, parent)\n    },\n    setNodeHoveBg(hoverFullId, nodeId) {\n      const symbol = this.symbol\n\n      if (hoverFullId.includes(symbol)) {\n        const arr = hoverFullId.split(symbol)\n\n        return arr.includes(nodeId + '')\n      }\n\n      return [hoverFullId].includes(nodeId + '')\n    },\n    mouseleave() {\n      // this.popoverList = []\n    },\n    focus() {\n      console.log('float menu focus')\n      this.visible = !this.visible\n      this.popoverList = []\n      \n      if (this.list.length) {\n        this.updatePopoverList(this.list)\n        const firstNode = this.popoverList[0]\n        this.setRootPos(firstNode)\n      }\n    },\n    blur() {\n      this.visible = false\n      this.popoverList = []\n      this.posStr = this.placement\n      this.hoverFullId = ''\n    },\n    // 设置根节点元素位置\n    setRootPos(node) {\n      const popoverItemWidth = this.popoverItemWidth\n      const viewWidth = this.viewWidth\n      const viewHeight = this.viewHeight\n      let top = 0\n      let left = 0\n      let height = 0\n      const el = this.$el\n      const box = el.getBoundingClientRect()\n      const boxLeft = box.left\n      const boxRight = box.right\n      const boxBottom = box.bottom\n      const boxTop = box.top\n      const margin = this.margin\n      const percent = this.percent\n      const borderPadding = (this.borderWidth + margin) * 2\n\n      // 设置元素相关位置\n      const setNodeSizePos = (node, top, left, height) => {\n        node.top = top\n        node.left = left\n        node.height = height\n      }\n\n      // 左侧展示 计算右侧剩余空间\n      let space = viewWidth - box.left\n\n      // 右侧空间充足\n      if (space >= popoverItemWidth) {\n        left = boxLeft\n      }\n      // 右侧空间不足 右侧对齐\n      else {\n        left = boxRight - popoverItemWidth\n      }\n\n      // 底部展示 计算底部空间是否充足\n      space = viewHeight - boxBottom\n      const nodeHeight = node.data.length * this.lineHeight\n      const contentHeight = nodeHeight + borderPadding\n\n      // 底部显示（底部空间充足）\n      if (space >= contentHeight + margin) {\n        top = boxBottom + margin\n        height = contentHeight\n        setNodeSizePos(node, top, left, height)\n        \n        return\n      }\n\n      // 底部显示（底部空间不足） 底部空间 >= 上面空间\n      if (space < contentHeight + margin && space >= boxTop) {\n        top = boxBottom + margin\n        height = (space - margin) * percent\n        setNodeSizePos(node, top, left, height)\n        \n        return\n      }\n\n      // 上面显示（上面空间充足）\n      space = boxTop - margin\n      if (space >= contentHeight) {\n        top = space - contentHeight\n        height = contentHeight\n        setNodeSizePos(node, top, left, height)\n        \n        return\n      }\n\n      // 上面显示（上面空间空间不足）上面空间 >= 下面空间\n      if (space < contentHeight && boxTop >= viewHeight - boxBottom) {\n        top = space * (1 - percent)\n        height = space * percent\n        setNodeSizePos(node, top, left, height)\n      }\n    },\n    // 设置节点位置\n    setNodePos(el, node, parent) {\n      const popoverItemWidth = this.popoverItemWidth\n      const viewWidth = this.viewWidth\n      const viewHeight = this.viewHeight\n      let top = 0\n      let left = 0\n      let height = 0\n      const box = el.getBoundingClientRect()\n      const boxLeft = box.left\n      const boxRight = box.right\n      const boxBottom = box.bottom\n      const boxTop = box.top\n      const margin = this.margin\n      const symbol = '-'\n      const percent = this.percent\n      const borderPadding = (this.borderWidth + margin) * 2\n      const nodeHeight = node.data.length * this.lineHeight\n      const contentHeight = nodeHeight + borderPadding\n\n      // 左侧显示\n      const leftShow = () => {\n        const space = boxLeft\n        const arr = this.posStr.split(symbol)\n        let pos = 'left'\n\n        if (space >= popoverItemWidth) {\n          left = boxLeft - popoverItemWidth\n        } else {\n          left = boxRight\n          pos = 'right'\n        }\n\n         this.posStr = `${arr[0]}${symbol}${pos}`\n      }\n\n      // 右侧显示\n      const rightShow = () => {\n        const space = viewWidth - boxRight\n        const arr = this.posStr.split(symbol)\n        let pos = 'right'\n\n        // 右侧空间充足 右侧显示\n        if (space >= popoverItemWidth) {\n          left = boxRight\n        }\n        // 右侧空间不足 左侧显示\n        else {\n          left = boxLeft - popoverItemWidth\n          pos = 'left'\n        }\n\n        this.posStr = `${arr[0]}${symbol}${pos}`\n      }\n\n      // 底部显示\n      const bottomShow = () => {\n        // 底部展示 计算底部空间\n        const space = viewHeight - boxTop\n        const arr = this.posStr.split(symbol)\n        let pos = 'bottom'\n\n        // 底部空间充足 底部展示\n        if (space >= contentHeight) {\n          top = boxTop\n          height = contentHeight\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n\n        // 底部空间不足  底部空间大于上部空间 底部展示并且滚动\n        if (space < contentHeight && space >= boxBottom) {\n          top = boxTop\n          height = space * percent\n          this.posStr = `${pos}${symbol}${arr[1]}`\n          \n          return\n        }\n\n        // 上面空间充足 上面显示\n        if (boxBottom >= contentHeight) {\n          top = boxBottom - contentHeight\n          pos = 'top'\n          height = contentHeight\n          this.posStr = `${pos}${symbol}${arr[1]}`\n          \n          return\n        }\n\n        // 上面空间不足 上面空间大于下面空间 上面显示\n        if (boxBottom < contentHeight && boxBottom > space) {\n          top = boxBottom * (1 - percent)\n          pos = 'top'\n          height = boxBottom * percent\n          this.posStr = `${pos}${symbol}${arr[1]}`\n        }\n      }\n\n      // 上面显示\n      const topShow = () => {\n        // 底部展示 计算底部空间\n        const space = viewHeight - boxTop\n        const arr = this.posStr.split(symbol)\n        let pos = 'bottom'\n\n        // 上面空间充足 上面显示\n        if (boxBottom >= contentHeight) {\n          top = boxBottom - contentHeight\n          pos = 'top'\n          height = contentHeight\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n\n        // 上面空间不足 上面空间大于下面空间 上面显示\n        if (boxBottom < contentHeight && boxBottom > space) {\n          top = boxBottom * (1 - percent)\n          pos = 'top'\n          height = boxBottom * percent\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n\n        // 底部空间充足 底部展示\n        if (space >= contentHeight) {\n          top = boxTop\n          height = contentHeight\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n\n        // 底部空间不足  底部空间大于上部空间 底部展示并且滚动\n        if (space < contentHeight && space >= boxBottom) {\n          top = boxTop\n          height = space * percent\n          this.posStr = `${pos}${symbol}${arr[1]}`\n\n          return\n        }\n      }\n\n      const setPos = (type) => {\n        switch(type) {\n          case 'left':\n            leftShow()\n            break\n\n          case 'right':\n            rightShow()\n            break\n\n          case 'bottom':\n            bottomShow()\n            break\n\n          case 'top':\n            topShow()\n            break\n\n          default:\n            break\n        }\n      }\n\n      this.posStr = parent.childPos || this.placement\n      const arr = this.posStr.split(symbol)\n\n      for (const key of arr) {\n        setPos(key)\n      }\n\n      parent.childPos = this.posStr\n      node.childPos = this.posStr\n\n      node.top = top\n      node.left = left\n      node.height = height\n    },\n    // 选择节点\n    handleSelect(node) {\n      this.setShowNameSlice(node.fullName)\n      this.fullId = node.fullId\n      const id = node[this.props.value]\n\n      if (!this.hasInitWidth) {\n        this.hasInitWidth = true\n        this.$el.style.width = 'auto'\n      }\n      \n      // 双向绑定-选择节点\n      // @arg 参数为当前节点 id\n      this.$emit('change', id)\n      // 选中节点\n      // @arg 参数为当前节点 node\n      this.$emit('select', node)\n      this.blur()\n    },\n    // name 截取\n    setShowNameSlice(name) {\n      const fontSize = 18\n      const total = name.length\n      const fontWidth = name.length * fontSize\n      const space = this.maxWidth - 28 - 20 - 16 - 2 - 3 * 18\n\n\n      if (fontWidth > space) {\n        const num = Math.ceil(space / fontSize)\n        this.name = `...${name.slice(total - num - 1)}`\n      } else {\n        this.name = name\n      }\n    },\n    // 页面滚动设置位置\n    scrollSetPos() {\n      if (!this.visible) {\n        return\n      }\n      \n      this.blur()\n    },\n    // 销毁\n    dispose() {\n      this.blur()\n      const popoverEl = this.popoverEl\n      popoverEl.parentNode.removeChild(popoverEl)\n      this.popoverEl = null\n      \n      removeHandle(document, 'click', this.blur)\n      removeHandle(window, 'resize', this.blur)\n      // 监听滚动 关闭悬浮菜单\n      const el = document.querySelector(this.scrollEl)\n      removeHandle(el, 'scroll', this.scrollSetPos)\n    }\n  },\n  beforeDestroy() {\n    this.dispose()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.float-menu-comp {\n  display: inline-block;\n  padding: 0 10px;\n  height: 32px;\n  background: rgba(217, 227, 242, 0.1) url('./assets/bg.png') 0 0 no-repeat;\n  background-size: cover;\n  border-left: 1px solid #d9e3f2;\n  border-right: 1px solid #d9e3f2;\n  cursor: pointer;\n}\n\n.cr-popover-hide {\n  z-index: -1;\n}\n\n\n.float-menu-icon {\n  width: 16px;\n  height: 16px;\n  color: #60759F;\n}\n\n.arrow-right-detail {\n  width: 16px;\n  height: 16px;\n}\n\nsvg, img {\n  width: 100%;\n  height: 100%;\n}\n\n.float-menu-arrow-icon {\n  width: 12px;\n  height: 12px;\n  background: url('./assets/area-arrow.png') no-repeat;\n  background-size: 12px;\n}\n\n.float-menu-content {\n  width: 100%;\n  height: 100%;\n  color: #CCDDFF;\n}\n\n.float-menu-text {\n  flex: 1;\n  margin: 0 8px;\n  font-weight: Bold;\n  font-size: 18px;\n  color: #CCDDFF;\n}\n\n.cr-float-menu-popover {\n  display: flex;\n  cursor: pointer;\n\n  .cr-popover-item {\n    overflow: auto;\n    padding: 8px;\n    background: #1D2330;\n    border: 1px solid #435270;\n    position: fixed;\n    left: 0;\n\n    &.cr-popover-item-last {\n      border-bottom: 2px solid #6699ff;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      background: #7F90B3;\n      border-radius: 5px;\n    }\n  }\n\n  li {\n    height: 40px;\n\n    &.hover {\n      background: #262E40;\n    }\n  }\n\n  .select-tips-icon {\n    width: 16px;\n    height: 16px;\n    margin-left: 8px;\n    background: url('./assets/check-def.png') 0 0 no-repeat;\n    background-size: 100% 100%;\n\n    &.active {\n      background: url('./assets/checked.png') 0 0 no-repeat;\n      background-size: 100% 100%;\n    }\n  }\n\n  .select-text {\n    margin: 0 8px;\n    color: #D9E3F2;\n    letter-spacing: 0;\n    flex: 1;\n    font-size: 14px;\n    color: #D9E3F2;\n  }\n\n  .children-tips-icon {\n    width: 12px;\n    height: 12px;\n    margin-right: 8px;\n\n    i {\n      width: 100%;\n      height: 100%;\n      color: #fff;\n    }\n  }\n}\n</style>"]}]}